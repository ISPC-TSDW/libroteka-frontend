<div class="container form-container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-6 col-lg-5">
      <form [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>
        <h2 class="mb-4 text-center">Iniciar sesión</h2>

        <!-- Email -->
        <div class="mb-3">
          <label for="idE" class="form-label">Correo electrónico</label>
          <input
            type="email"
            formControlName="email"
            class="form-control"
            id="idE"
            aria-label="Correo electrónico"
            required
            [attr.aria-invalid]="Email?.invalid && (Email?.dirty || Email?.touched)"
            aria-describedby="emailHelp"
          />
          <div *ngIf="Email?.errors && (Email?.dirty || Email?.touched)" id="emailHelp" class="text-danger" role="alert">
            <div *ngIf="Email?.hasError('required')">El correo es obligatorio.</div>
            <div *ngIf="Email?.hasError('email')">Ingrese un correo válido.</div>
          </div>
        </div>

        <!-- Contraseña -->
        <div class="mb-3">
          <label for="InputPassword" class="form-label">Contraseña</label>
          <div class="input-group">
            <input
              [type]="showPassword ? 'text' : 'password'"
              formControlName="password"
              class="form-control"
              id="InputPassword"
              aria-label="Contraseña"
              required
              minlength="8"
              maxlength="32"
              [attr.aria-invalid]="Password?.invalid && (Password?.dirty || Password?.touched)"
              aria-describedby="passwordHelp"
              autocomplete="current-password"
            />
            <button
              type="button"
              class="btn btn-outline-secondary"
              (click)="showPassword = !showPassword"
              [attr.aria-label]="showPassword ? 'Ocultar contraseña' : 'Mostrar contraseña'"
              tabindex="0"
            >
              <img
                *ngIf="showPassword"
                src="assets/images/icons/visibility_off_24dp_1A1A1A.svg"
                alt="Ocultar contraseña"
                width="28"
                height="28"
                aria-hidden="true"
                class="eye-icon"
                draggable="false"
                focusable="false"
              />
              <img
                *ngIf="!showPassword"
                src="assets/images/icons/visibility_24dp_1A1A1A.svg"
                alt="Mostrar contraseña"
                width="28"
                height="28"
                aria-hidden="true"
                class="eye-icon"
                draggable="false"
                focusable="false"
              />
            </button>
          </div>
          <div *ngIf="Password?.errors && (Password?.dirty || Password?.touched)" id="passwordHelp" class="text-danger" role="alert">
            <div *ngIf="Password?.hasError('required')">La contraseña es obligatoria.</div>
            <div *ngIf="Password?.hasError('minlength')">Debe tener al menos 8 caracteres.</div>
          </div>
        </div>

        <button type="submit" class="btn-login btn-primary w-100" [disabled]="form.invalid">ACCEDER</button>
        <div *ngIf="errorMessage" class="alert alert-danger mt-2" role="alert">
            {{ errorMessage }}
        </div>

        <div class="mt-3 text-center">
          <a routerLink="/create" aria-label="Ir a crear cuenta">¿No tienes cuenta? Regístrate aquí</a>
        </div>
      </form>
    </div>
  </div>
</div>
<router-outlet></router-outlet>