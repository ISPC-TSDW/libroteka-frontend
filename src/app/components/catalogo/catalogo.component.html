<div class="wrap">
    <h1>Categoría por Géneros</h1>
    <div class="store-wrapper">
        <div class="category_list">
            <a class="category_item" [class.active]="selectedCategory === 'todo'" (click)="filterByCategory('todo')">Todo</a>
            <a *ngFor="let genre of genres" 
               class="category_item" 
               [class.active]="selectedCategory === genre.name.toLowerCase()"
               (click)="filterByCategory(genre.name.toLowerCase())">
                {{genre.name}}
            </a>
        </div>
        <section class="products-list">
            <div *ngIf="loading" class="loading-spinner">
                <div class="spinner"></div>
            </div>
            <div class="product-item" *ngFor="let book of filteredBooks">
                <img [src]="book.image || 'assets/images/no-cover.png'" [alt]="book.title">
                <div class="product-info">
                    <h3>{{book.title}}</h3>
                    <p class="genre">{{getGenreName(book.id_Genre)}}</p>
                </div>
            </div>
            <div *ngIf="!loading && filteredBooks.length === 0" class="no-books">
                <p>No hay libros disponibles en esta categoría</p>
            </div>
        </section>
    </div>
</div>